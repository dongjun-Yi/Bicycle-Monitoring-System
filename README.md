# Bicycle-Monitoring-System
라즈베리파이를 이용하여 사용자의 자전거가 도난당하지 않게끔 자전거를 실시간으로 모니터링 한다.

## project description
 * 자전거앞에 라즈베리파이에 부착된 초음파센서를 두어 지속적으로 자전거와 센서사이의 거리값을 측정하고 웹페이지에 나타내도록 한다.
 * 만약 센서의 거리값이 임의의 값보다 증가되면 자전거가 도난당한것으로 간주하여 그 순간 자전거 주변의 모습을 파이카메라로 촬영해서 웹페이지에 보내도록 한다.
 * 사용자는 웹페이지에서 자전거 주변을 실시간으로 사진을 볼 수 있고, 범인의 얼굴을 자세히 볼수 있게 얼굴인식기능을 이용하여 사진을 찍게끔 하였다.
 * 찍힌 사진들은 static영역에 저장되고, 나중에 범인을 잡을 때 증거로 유용하게 사용될 수 있다.

## System Structure
![미니프로젝트 구조도](https://user-images.githubusercontent.com/90665186/147327608-b4c52f74-0e8d-449c-8449-294948fab39d.png)


## Codes
 ### 총 7개 
  * Circuit.py
   : 초음파센서로 거리를 재고 Led를 On/Off 하는 코드

  * Camera.py
   : 카메라를 찍고 opencv를 이용하여 얼굴인식이 가능한 파이썬 코드

  * Mqtt.py(mosquitto를 통해 웹브라우저와 통신하는 파이썬코드)
   : subscriber/publisher을 등록하고 초음파센서 값이 설정한값보다 높아지면 파이카메라로 촬영하는코드
   : 파이카메라로 촬영한 사진을 웹페이지에 볼 수 있게 설계

  * App.py 
   : 웹 브라우저로부터 접속과 요청을 받아 처리하는 플라스크 앱
 
  * Mqtt.html
   : 사용자에게 라즈베리파이에서 측정한 센서값들을 보여주기 위한 웹페이지 코드

  * Mqttio.js
   : 측정된 값을 웹페이지에서 실시간으로 확인하기 위한 javascrpit

  * Face.js
   : 카메라로 찍은 사진을 얼굴인식을 하기 위한 javascript
